---
title: "R mechanics"
author: "Sean Davis"
output: 
    html_document:
        code_folding: "hide"
---

## Installing R

The home page for R is called the Comprehensive R Archive Network (CRAN). The [website](http://cran.r-project.or) is not pretty (see figure \@ref(fig:cranscreenshot)), but it has quite a bit of information on it. It is not the best place to find help on R, although it is one of the best places to get R-related software, tools, and updates.

```{r cranscreenshot, fig.cap='The Comprehensive R Archive Network (CRAN) website'}
knitr::include_graphics('images/CRAN-screenshot.png')
```

Detailed installation instructions are readily available, but here are abbreviated instructions for convenience.

### Windows

NOTE: See [Windows installation instructions][Windows] for more
detail. Install _R_ and _RStudio_ as regular users.

To install _R_, visit the [Windows base][] distribution page. Click on
the `Download R-3.4.0 for Windows` link (or use the latest version available). Click on the installer and
make the default selection for each option.

To install _RStudio_, visit the [RStudio download][] page. Click on
the current RStudio release for Windows link. Click on the installer
and follow default instructions.

### Mac

NOTE: See [R for Mac OS X][MacOS] for more detail.

To install _R_, visit the [R for Mac OS X][MacOS]. Click on the the
`R-3.4.0.pkg` link (or use the latest version available). Click on the installer and follow default
instructions.

To install _RStudio_, visit the [RStudio download][] page. Click on
the current RStudio release for Windows link. Click on the installer
and follow default instructions.

### Linux

NOTE: See [distribution-specific instructions][Linux-distro] for
additional detail.

On debian-based systems, the easiest way to install _R_ is through a
package manager manager, run under an administrator account.  On Linux
one usually needs to install _R_ packages from source, and _R_ package
source often contains C, C++, or Fortran code requiring a compiler and
`-dev` versions of various system libraries. It is therefore
convenient to install the `-dev` version of R.

```
sudo apt-get install r-base r-base-dev
```

When installing source packages, it may be necessary to have access to
the `-dev` version of various system libraries. Many of these are
installed as dependencies of `r-base-dev`; other common examples
include the xml and curl libraries

```
sudo apt-get install libxml2-dev
sudo apt-get install libcurl-dev
```

Note in particular the use specification of libraries (the `lib`
prefix) and the use of the `-dev` version.

To install _RStudio_, visit the [RStudio download][] page. Download
the appropriate archive for your OS. On Ubuntu, install the `.deb`
installer with

```
sudo dpkg -i rstudio-1.0.136-amd64.deb
```

[Windows]: https://cran.r-project.org/bin/windows/
[Windows base]: https://cran.r-project.org/bin/windows/base/
[MacOS]: https://cran.r-project.org/bin/macosx/
[RStudio download]: https://www.rstudio.com/products/rstudio/download/

[Rtools]: https://cran.r-project.org/bin/windows/Rtools/
[Linux-distro]: https://cran.r-project.org/bin/linux/
[R-admin]: https://cran.r-project.org/doc/manuals/r-release/R-admin.html)

## Starting R

How to start R depends a bit on the operating system (Mac, Windows, Linux) and interface.  In this course, we will largely be using an Integrated Development Environment (IDE) called *RStudio*, but there is nothing to prohibit using R at the command line or in some other interface (and there are a few). A screenshot of the interface is shown in figure \@ref(fig:rstudiointerface).

```{r rstudiointerface,fig.cap='The Rstudio interface', echo=FALSE, fig.width=7}
knitr::include_graphics("images/RStudio.png")
```

# First steps

## Interacting with R

The only meaningful way of interacting with R is by typing into the R console. At the most basic level, anything that we type at the command line will fall into one of two categories:

1. Assignments
    
    ```{r}
    x = 1
    y <- 2
    ```
    
2. Expressions

    ```{r}
    1 + pi + sin(42)
    ```

The assignment type is obvious because either the The “<-” or “=” are used. Note that when we type expressions, R will return a result.  In this case, the result of R evaluating `1 + pi + sin(42)` is ``r 1 + pi + sin(42)``.

The standard R prompt is a ">" sign. When present, R is waiting for the next expression or assignment.  If a line is not a complete R command, R will continue the next line with a "+". For example, typing the fillowing with a "Return" after the second "+" will result in R giving back a "+" on the next line, a prompt to keep typing.

```{r tidy=FALSE}
1 + pi +
sin(3.7)
```

## Rules for Names in R

R allows users to assign names to objects such as variables, functions, and even dimensions of data. However, these names must follow a few rules.

- Names may contain any combination of letters, numbers, underscore, and "."
- Names may not start with numbers, underscore.
- R names are case-sensitive.

Examples of valid R names include:

```
pi
x
camelCaps
my_stuff
MY_Stuff
this.is.the.name.of.the.man
ABC123
abc1234asdf
.hi
```

## Resources for Getting Help

There is extensive built-in help and documentation within R. 

If the name of the function or object on which help is sought is known, the following approaches with the name of the function or object will be helpful. For a concrete example, examine the help for the `print` method.

```{r eval=FALSE}
help(print)
help('print')
?print
```

If the name of the function or object on which help is sought is *not* known, the following from within R will be helpful. 

```{r eval=FALSE}
help.search('microarray')
RSiteSearch('microarray')
```

There are also tons of online resources that Google will include in searches if online searching feels more appropriate.

I strongly recommend using `help(newfunction)` for all
functions that are new or unfamiliar to you.

