<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>B3.utf8</title>
  <meta name="description" content="">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="B3.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="B3.utf8" />
  
  
  

<meta name="author" content="Sean Davis">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="first-steps.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="r-mechanics.html"><a href="r-mechanics.html"><i class="fa fa-check"></i><b>1</b> R Mechanics</a><ul>
<li class="chapter" data-level="1.1" data-path="r-mechanics.html"><a href="r-mechanics.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a><ul>
<li class="chapter" data-level="1.1.1" data-path="r-mechanics.html"><a href="r-mechanics.html#windows"><i class="fa fa-check"></i><b>1.1.1</b> Windows</a></li>
<li class="chapter" data-level="1.1.2" data-path="r-mechanics.html"><a href="r-mechanics.html#mac"><i class="fa fa-check"></i><b>1.1.2</b> Mac</a></li>
<li class="chapter" data-level="1.1.3" data-path="r-mechanics.html"><a href="r-mechanics.html#linux"><i class="fa fa-check"></i><b>1.1.3</b> Linux</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="r-mechanics.html"><a href="r-mechanics.html#starting-r"><i class="fa fa-check"></i><b>1.2</b> Starting R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i><b>2</b> First steps</a><ul>
<li class="chapter" data-level="2.1" data-path="first-steps.html"><a href="first-steps.html#interacting-with-r"><i class="fa fa-check"></i><b>2.1</b> Interacting with R</a></li>
<li class="chapter" data-level="2.2" data-path="first-steps.html"><a href="first-steps.html#rules-for-names-in-r"><i class="fa fa-check"></i><b>2.2</b> Rules for Names in R</a></li>
<li class="chapter" data-level="2.3" data-path="first-steps.html"><a href="first-steps.html#resources-for-getting-help"><i class="fa fa-check"></i><b>2.3</b> Resources for Getting Help</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html"><i class="fa fa-check"></i><b>3</b> Introduction to R data structures</a><ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#vectors"><i class="fa fa-check"></i><b>3.1</b> Vectors</a><ul>
<li class="chapter" data-level="3.1.1" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#creating-vectors"><i class="fa fa-check"></i><b>3.1.1</b> Creating vectors</a></li>
<li class="chapter" data-level="3.1.2" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#vector-operations"><i class="fa fa-check"></i><b>3.1.2</b> Vector Operations</a></li>
<li class="chapter" data-level="3.1.3" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#logical-vectors"><i class="fa fa-check"></i><b>3.1.3</b> Logical Vectors</a></li>
<li class="chapter" data-level="3.1.4" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#logical-operators"><i class="fa fa-check"></i><b>3.1.4</b> Logical Operators</a></li>
<li class="chapter" data-level="3.1.5" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#indexing-vectors"><i class="fa fa-check"></i><b>3.1.5</b> Indexing Vectors</a></li>
<li class="chapter" data-level="3.1.6" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#character-vectors-a.k.a.-strings"><i class="fa fa-check"></i><b>3.1.6</b> Character Vectors, A.K.A. Strings</a></li>
<li class="chapter" data-level="3.1.7" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#missing-values-aka-na"><i class="fa fa-check"></i><b>3.1.7</b> Missing Values, AKA “NA”</a></li>
<li class="chapter" data-level="3.1.8" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#factors"><i class="fa fa-check"></i><b>3.1.8</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#rectangular-data"><i class="fa fa-check"></i><b>3.2</b> Rectangular Data</a><ul>
<li class="chapter" data-level="3.2.1" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#matrices"><i class="fa fa-check"></i><b>3.2.1</b> Matrices</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#data-frames"><i class="fa fa-check"></i><b>3.2.2</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-r-data-structures.html"><a href="introduction-to-r-data-structures.html#lists-and-objects"><i class="fa fa-check"></i><b>3.3</b> Lists and Objects</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r-data-structures" class="section level1">
<h1><span class="header-section-number">3</span> Introduction to R data structures</h1>
<p>As in many programming languages, understanding how data are stored and manipulated is important to getting the most out of the experience. In these next few sections, we will introduce some basic R data types and structures as well as some general approaches for working with them.</p>
<div id="vectors" class="section level2">
<h2><span class="header-section-number">3.1</span> Vectors</h2>
<p>In R, even a single value is a vector with length=1.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">z =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">z</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">length</span>(z)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>In the code above, we “assigned” the value 1 to the variable named <code>z</code>. Typing <code>z</code> by itself is an “expression” that returns a result which is, in this case, the value that we just assigned. The <code>length</code> method takes an R object and returns the R length. There are numerous ways of asking R about what an object represents, and <code>length</code> is one of them.</p>
<p>Vectors can contain numbers, strings (character data), or logical values (<code>TRUE</code> and <code>FALSE</code>) or other “atomic” data types (table <a href="introduction-to-r-data-structures.html#tab:simpletypes">3.1</a>). <em>Vectors cannot contain a mix of types!</em> We will introduce another data structure, the R <code>list</code> for situations when we need to store a mix of base R data types.</p>
<table>
<caption><span id="tab:simpletypes">Table 3.1: </span> Atomic (simplest) data types in R.</caption>
<thead>
<tr class="header">
<th align="left">Data type</th>
<th align="left">Stores</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">floating point numbers</td>
</tr>
<tr class="even">
<td align="left">integer</td>
<td align="left">integers</td>
</tr>
<tr class="odd">
<td align="left">complex</td>
<td align="left">complex numbers</td>
</tr>
<tr class="even">
<td align="left">factor</td>
<td align="left">categorical data</td>
</tr>
<tr class="odd">
<td align="left">character</td>
<td align="left">strings</td>
</tr>
<tr class="even">
<td align="left">logical</td>
<td align="left">TRUE or FALSE</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="left">missing</td>
</tr>
<tr class="even">
<td align="left">NULL</td>
<td align="left">empty</td>
</tr>
<tr class="odd">
<td align="left">function</td>
<td align="left">function type</td>
</tr>
</tbody>
</table>
<div id="creating-vectors" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Creating vectors</h3>
<p>Character vectors (also sometimes called “string” vectors) are entered with each value
surrounded by single or double quotes; either is acceptable, but they
must match. They are always displayed by R with double quotes. Here are some examples of creating vectors:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co"># examples of vectors</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw">c</span>(<span class="st">&#39;hello&#39;</span>,<span class="st">&#39;world&#39;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;hello&quot; &quot;world&quot;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 1 3 4 5 1 2</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">c</span>(<span class="fl">1.12341e7</span>,<span class="fl">78234.126</span>)</a></code></pre></div>
<pre><code>## [1] 11234100.00    78234.13</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="co"># note how in the next case the TRUE is converted to &quot;TRUE&quot;</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="co"># with quotes around it.</span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3"><span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="st">&#39;hello&#39;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;TRUE&quot;  &quot;hello&quot;</code></pre>
<p>We can also create vectors as “regular sequences” of numbers. For example:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># create a vector of integers from 1 to 10</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="co"># and backwards</span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4">x =<span class="st"> </span><span class="dv">10</span><span class="op">:</span><span class="dv">1</span></a></code></pre></div>
<p>The <code>seq</code> function can create more flexible regular sequences.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="co"># create a vector of numbers from 1 to 4 skipping by 0.3</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2">y =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="fl">0.3</span>)</a></code></pre></div>
<p>And creating a new vector by concatenating existing vectors is possible, as well.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="co"># create a sequence by concatenating two other sequences</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2">z =<span class="st"> </span><span class="kw">c</span>(y,x)</a>
<a class="sourceLine" id="cb29-3" data-line-number="3">z</a></code></pre></div>
<pre><code>##  [1]  1.0  1.3  1.6  1.9  2.2  2.5  2.8  3.1  3.4  3.7  4.0 10.0  9.0  8.0
## [15]  7.0  6.0  5.0  4.0  3.0  2.0  1.0</code></pre>
</div>
<div id="vector-operations" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Vector Operations</h3>
<p>Operations on a single vector are typically done element-by-element. For example, we can add <code>2</code> to a vector, <code>2</code> is added to each element of the vector and a new vector of the same length is returned.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2">x <span class="op">+</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<pre><code>##  [1]  3  4  5  6  7  8  9 10 11 12</code></pre>
<p>If the operation involves two vectors, the following rules apply. If the vectors are the same length: R simply applies the operation to each pair of elements.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">x <span class="op">+</span><span class="st"> </span>x</a></code></pre></div>
<pre><code>##  [1]  2  4  6  8 10 12 14 16 18 20</code></pre>
<p>If the vectors are different lengths, but one length a multiple of the other, R
reuses the shorter vector as needed.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">y =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3">x <span class="op">*</span><span class="st"> </span>y</a></code></pre></div>
<pre><code>##  [1]  1  4  3  8  5 12  7 16  9 20</code></pre>
<p>If the vectors are different lengths, but one length <em>not</em> a multiple of the
other, R reuses the shorter vector as needed <em>and</em> delivers a
warning.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2">y =<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb37-3" data-line-number="3">x <span class="op">*</span><span class="st"> </span>y</a></code></pre></div>
<pre><code>## Warning in x * y: longer object length is not a multiple of shorter object
## length</code></pre>
<pre><code>##  [1]  2  6 12  8 15 24 14 24 36 20</code></pre>
<p>Typical operations include multiplication (“*”), addition,
subtraction, division, exponentiation (“^”), but many operations
in R operate on vectors and are then called “vectorized”.</p>
</div>
<div id="logical-vectors" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Logical Vectors</h3>
<p>Logical vectors are vectors composed on only the values <code>TRUE</code> and
<code>FALSE</code>. Note the all-upper-case and no quotation marks.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb40-2" data-line-number="2"></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="co"># we can also create a logical vector from a numeric vector</span></a>
<a class="sourceLine" id="cb40-4" data-line-number="4"><span class="co"># 0 = false, everything else is 1</span></a>
<a class="sourceLine" id="cb40-5" data-line-number="5">b =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">217</span>)</a>
<a class="sourceLine" id="cb40-6" data-line-number="6">d =<span class="st"> </span><span class="kw">as.logical</span>(b)</a>
<a class="sourceLine" id="cb40-7" data-line-number="7">d</a></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="co"># test if a and d are the same at every element</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="kw">all.equal</span>(a,d)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="co"># We can also convert from logical to numeric</span></a>
<a class="sourceLine" id="cb44-2" data-line-number="2"><span class="kw">as.numeric</span>(a)</a></code></pre></div>
<pre><code>## [1] 1 0 1</code></pre>
</div>
<div id="logical-operators" class="section level3">
<h3><span class="header-section-number">3.1.4</span> Logical Operators</h3>
<p>Some operators like <code>&lt;, &gt;, ==, &gt;=, &lt;=, !=</code> can be used to create logical
vectors.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="co"># create a numeric vector</span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb46-3" data-line-number="3"><span class="co"># testing whether x &gt; 5 creates a logical vector</span></a>
<a class="sourceLine" id="cb46-4" data-line-number="4">x <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">x <span class="op">!=</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">x <span class="op">==</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
<p>We can also assign the results to a variable:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1">y =<span class="st"> </span>(x <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb54-2" data-line-number="2">y</a></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
<div id="indexing-vectors" class="section level3">
<h3><span class="header-section-number">3.1.5</span> Indexing Vectors</h3>
<p>In R, an index is used to refer to a specific element or
set of elements in an vector (or other data structure). [R uses <code>[</code> and <code>]</code> to perform indexing,
although other approaches to getting subsets of larger data
structures are common in R.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1">x =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb56-2" data-line-number="2"><span class="co"># create a new vector from the 4th element of x</span></a>
<a class="sourceLine" id="cb56-3" data-line-number="3">x[<span class="dv">4</span>]</a></code></pre></div>
<pre><code>## [1] 0.3</code></pre>
<p>We can even use other vectors to perform the “indexing”.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">x[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)]</a></code></pre></div>
<pre><code>## [1] 0.2 0.4 0.5</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1">y =<span class="st"> </span><span class="dv">3</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb60-2" data-line-number="2">x[y]</a></code></pre></div>
<pre><code>## [1] 0.2 0.3 0.4 0.5</code></pre>
<p>Combining the concept of indexing with the concept of logical vectors
results in a very power combination.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="co"># use help(&#39;rnorm&#39;) to figure out what is happening next</span></a>
<a class="sourceLine" id="cb62-2" data-line-number="2">myvec =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb62-3" data-line-number="3"></a>
<a class="sourceLine" id="cb62-4" data-line-number="4"><span class="co"># create logical vector that is TRUE where myvec is &gt;0.25</span></a>
<a class="sourceLine" id="cb62-5" data-line-number="5">gt1 =<span class="st"> </span>(myvec <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.25</span>)</a>
<a class="sourceLine" id="cb62-6" data-line-number="6"><span class="kw">sum</span>(gt1)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="co"># and use our logical vector to create a vector of myvec values that are &gt;0.25</span></a>
<a class="sourceLine" id="cb64-2" data-line-number="2">myvec[gt1]</a></code></pre></div>
<pre><code>## [1] 0.4128381 0.4202515 0.3742849</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="co"># or &lt;=0.25 using the logical &quot;not&quot; operator, &quot;!&quot;</span></a>
<a class="sourceLine" id="cb66-2" data-line-number="2">myvec[<span class="op">!</span>gt1]</a></code></pre></div>
<pre><code>## [1] -0.072503772 -0.177416335 -1.652526151 -0.169542095 -0.358487575
## [6] -0.004137296 -0.457988660</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="co"># shorter, one line approach</span></a>
<a class="sourceLine" id="cb68-2" data-line-number="2">myvec[myvec <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.25</span>]</a></code></pre></div>
<pre><code>## [1] 0.4128381 0.4202515 0.3742849</code></pre>
</div>
<div id="character-vectors-a.k.a.-strings" class="section level3">
<h3><span class="header-section-number">3.1.6</span> Character Vectors, A.K.A. Strings</h3>
<p>R uses the <code>paste</code> function to concatenate strings.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="kw">paste</span>(<span class="st">&quot;abc&quot;</span>,<span class="st">&quot;def&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;abc def&quot;</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="kw">paste</span>(<span class="st">&quot;abc&quot;</span>,<span class="st">&quot;def&quot;</span>,<span class="dt">sep=</span><span class="st">&quot;THISSEP&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;abcTHISSEPdef&quot;</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1"><span class="kw">paste0</span>(<span class="st">&quot;abc&quot;</span>,<span class="st">&quot;def&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;abcdef&quot;</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">## [1] &quot;abcdef&quot;</a>
<a class="sourceLine" id="cb76-2" data-line-number="2"><span class="kw">paste</span>(<span class="kw">c</span>(<span class="st">&quot;X&quot;</span>,<span class="st">&quot;Y&quot;</span>),<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;X 1&quot;  &quot;Y 2&quot;  &quot;X 3&quot;  &quot;Y 4&quot;  &quot;X 5&quot;  &quot;Y 6&quot;  &quot;X 7&quot;  &quot;Y 8&quot;  &quot;X 9&quot;  &quot;Y 10&quot;</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1"><span class="kw">paste</span>(<span class="kw">c</span>(<span class="st">&quot;X&quot;</span>,<span class="st">&quot;Y&quot;</span>),<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,<span class="dt">sep=</span><span class="st">&quot;_&quot;</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;X_1&quot;  &quot;Y_2&quot;  &quot;X_3&quot;  &quot;Y_4&quot;  &quot;X_5&quot;  &quot;Y_6&quot;  &quot;X_7&quot;  &quot;Y_8&quot;  &quot;X_9&quot;  &quot;Y_10&quot;</code></pre>
<p>We can count the number of characters in a string.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1"><span class="kw">nchar</span>(<span class="st">&#39;abc&#39;</span>)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="kw">nchar</span>(<span class="kw">c</span>(<span class="st">&#39;abc&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="dv">123456</span>))</a></code></pre></div>
<pre><code>## [1] 3 1 6</code></pre>
<p>Pulling out parts of strings is also sometimes useful.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1"><span class="kw">substr</span>(<span class="st">&#39;This is a good sentence.&#39;</span>,<span class="dt">start=</span><span class="dv">10</span>,<span class="dt">stop=</span><span class="dv">15</span>)</a></code></pre></div>
<pre><code>## [1] &quot; good &quot;</code></pre>
<p>Another common operation is to replace something in a string with something (a find-and-replace).</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1"><span class="kw">sub</span>(<span class="st">&#39;This&#39;</span>,<span class="st">&#39;That&#39;</span>,<span class="st">&#39;This is a good sentence.&#39;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;That is a good sentence.&quot;</code></pre>
<p>When we want to find all strings that match some other string, we can use <code>grep</code>, or “grab regular expression”.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1"><span class="kw">grep</span>(<span class="st">&#39;bcd&#39;</span>,<span class="kw">c</span>(<span class="st">&#39;abcdef&#39;</span>,<span class="st">&#39;abcd&#39;</span>,<span class="st">&#39;bcde&#39;</span>,<span class="st">&#39;cdef&#39;</span>,<span class="st">&#39;defg&#39;</span>))</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1"><span class="kw">grep</span>(<span class="st">&#39;bcd&#39;</span>,<span class="kw">c</span>(<span class="st">&#39;abcdef&#39;</span>,<span class="st">&#39;abcd&#39;</span>,<span class="st">&#39;bcde&#39;</span>,<span class="st">&#39;cdef&#39;</span>,<span class="st">&#39;defg&#39;</span>),<span class="dt">value=</span><span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] &quot;abcdef&quot; &quot;abcd&quot;   &quot;bcde&quot;</code></pre>
</div>
<div id="missing-values-aka-na" class="section level3">
<h3><span class="header-section-number">3.1.7</span> Missing Values, AKA “NA”</h3>
<p>R has a special value, “NA”, that represents a “missing” value, or <em>Not Available</em>, in a
vector or other data structure. Here, we just create a vector to experiment.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb92-2" data-line-number="2">x</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1"><span class="kw">length</span>(x)</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1"><span class="kw">is.na</span>(x)</a></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1">x[<span class="dv">2</span>] =<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb98-2" data-line-number="2">x</a></code></pre></div>
<pre><code>## [1]  1 NA  3  4  5</code></pre>
<p>The length of <code>x</code> is unchanged, but there is one value that is marked as “missing” by virtue of being <code>NA</code>.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1"><span class="kw">length</span>(x)</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1"><span class="kw">is.na</span>(x)</a></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE FALSE FALSE</code></pre>
<p>We can remove <code>NA</code> values by using indexing. In the following, <code>is.na(x)</code> returns a logical vector the
length of <code>x</code>. The <code>!</code> is the logical <em>NOT</em> operator and converts <code>TRUE</code> to <code>FALSE</code> and vice-versa.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1">x[<span class="op">!</span><span class="kw">is.na</span>(x)]</a></code></pre></div>
<pre><code>## [1] 1 3 4 5</code></pre>
</div>
<div id="factors" class="section level3">
<h3><span class="header-section-number">3.1.8</span> Factors</h3>
<p>A factor is a special type of vector, normally used to hold a
categorical variable–such as smoker/nonsmoker, state of residency, zipcode–in many statistical functions. Such vectors have class “factor”. Factors are primarily used in Analysis of Variance (ANOVA) or other situations when “categories” are needed. When a factor is used as a predictor variable, the corresponding indicator variables are created (more later).</p>
<p>Note of caution that factors in R often <em>appear</em> to be character vectors
when printed, but you will notice that they do not have double quotes
around them. They are stored in R as numbers with a key name, so
sometimes you will note that the factor <em>behaves</em> like a numeric vector.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1"><span class="co"># create the character vector</span></a>
<a class="sourceLine" id="cb106-2" data-line-number="2">citizen&lt;-<span class="kw">c</span>(<span class="st">&quot;uk&quot;</span>,<span class="st">&quot;us&quot;</span>,<span class="st">&quot;no&quot;</span>,<span class="st">&quot;au&quot;</span>,<span class="st">&quot;uk&quot;</span>,<span class="st">&quot;us&quot;</span>,<span class="st">&quot;us&quot;</span>,<span class="st">&quot;no&quot;</span>,<span class="st">&quot;au&quot;</span>) </a>
<a class="sourceLine" id="cb106-3" data-line-number="3"></a>
<a class="sourceLine" id="cb106-4" data-line-number="4"><span class="co"># convert to factor</span></a>
<a class="sourceLine" id="cb106-5" data-line-number="5">citizenf&lt;-<span class="kw">factor</span>(citizen)                                </a>
<a class="sourceLine" id="cb106-6" data-line-number="6">citizen             </a></code></pre></div>
<pre><code>## [1] &quot;uk&quot; &quot;us&quot; &quot;no&quot; &quot;au&quot; &quot;uk&quot; &quot;us&quot; &quot;us&quot; &quot;no&quot; &quot;au&quot;</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1">citizenf</a></code></pre></div>
<pre><code>## [1] uk us no au uk us us no au
## Levels: au no uk us</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1"><span class="co"># convert factor back to character vector</span></a>
<a class="sourceLine" id="cb110-2" data-line-number="2"><span class="kw">as.character</span>(citizenf)</a></code></pre></div>
<pre><code>## [1] &quot;uk&quot; &quot;us&quot; &quot;no&quot; &quot;au&quot; &quot;uk&quot; &quot;us&quot; &quot;us&quot; &quot;no&quot; &quot;au&quot;</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="co"># convert to numeric vector</span></a>
<a class="sourceLine" id="cb112-2" data-line-number="2"><span class="kw">as.numeric</span>(citizenf)</a></code></pre></div>
<pre><code>## [1] 3 4 2 1 3 4 4 2 1</code></pre>
<p>R stores many data structures as vectors with “attributes” and “class” (just so you have seen this).</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1"><span class="kw">attributes</span>(citizenf)</a></code></pre></div>
<pre><code>## $levels
## [1] &quot;au&quot; &quot;no&quot; &quot;uk&quot; &quot;us&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1"><span class="kw">class</span>(citizenf)</a></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="co"># note that after unclassing, we can see the </span></a>
<a class="sourceLine" id="cb118-2" data-line-number="2"><span class="co"># underlying numeric structure again</span></a>
<a class="sourceLine" id="cb118-3" data-line-number="3"><span class="kw">unclass</span>(citizenf)</a></code></pre></div>
<pre><code>## [1] 3 4 2 1 3 4 4 2 1
## attr(,&quot;levels&quot;)
## [1] &quot;au&quot; &quot;no&quot; &quot;uk&quot; &quot;us&quot;</code></pre>
<p>Tabulating factors is a useful way to get a sense of the “sample” set available.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="kw">table</span>(citizenf)</a></code></pre></div>
<pre><code>## citizenf
## au no uk us 
##  2  2  2  3</code></pre>
</div>
</div>
<div id="rectangular-data" class="section level2">
<h2><span class="header-section-number">3.2</span> Rectangular Data</h2>
<p>A <em>matrix</em> is a rectangular collection of the same data type. It can be viewed as a collection
of column vectors all of the same length and the same type (i.e. numeric, character or logical). A <em>data.frame</em> is <em>also</em> a rectangular array. All of the columns must be the same length, but they may be of <em>different</em> types. The rows and columns of a matrix or data frame can be given names. However these are implemented differently in R; many operations will work for one but not both, often a source of confusion.</p>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Matrices</h3>
<p>We start by building a matrix from parts:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> </a>
<a class="sourceLine" id="cb122-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb122-3" data-line-number="3"></a>
<a class="sourceLine" id="cb122-4" data-line-number="4"><span class="co"># make a matrix by column binding two numeric vectors</span></a>
<a class="sourceLine" id="cb122-5" data-line-number="5">mat&lt;-<span class="kw">cbind</span>(x,y)</a>
<a class="sourceLine" id="cb122-6" data-line-number="6">mat</a></code></pre></div>
<pre><code>##        x           y
##  [1,]  1 -0.91177720
##  [2,]  2 -0.02215773
##  [3,]  3  0.86126364
##  [4,]  4 -0.69371491
##  [5,]  5  2.40947221
##  [6,]  6 -0.19503122
##  [7,]  7 -0.24879945
##  [8,]  8 -1.73697194
##  [9,]  9  1.90778018
## [10,] 10  1.80389756</code></pre>
<p>Inspecting the names associated with rows and columns is often useful, particularly if the names have human meaning.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="kw">rownames</span>(mat)</a></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1"><span class="kw">colnames</span>(mat)</a></code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot;</code></pre>
<p>Matrices have dimensions.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1"><span class="kw">dim</span>(mat)</a></code></pre></div>
<pre><code>## [1] 10  2</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1"><span class="kw">nrow</span>(mat)</a></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1"><span class="kw">ncol</span>(mat)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Indexing for matrices works as for vectors except that we now need to
include both the row and column (in that order).</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1"><span class="co"># The 2nd element of the 1st row of mat</span></a>
<a class="sourceLine" id="cb134-2" data-line-number="2">mat[<span class="dv">1</span>,<span class="dv">2</span>]</a></code></pre></div>
<pre><code>##          y 
## -0.9117772</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1"><span class="co"># The first ROW of mat</span></a>
<a class="sourceLine" id="cb136-2" data-line-number="2">mat[<span class="dv">1</span>,]</a></code></pre></div>
<pre><code>##          x          y 
##  1.0000000 -0.9117772</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1"><span class="co"># The first COLUMN of mat</span></a>
<a class="sourceLine" id="cb138-2" data-line-number="2">mat[,<span class="dv">1</span>]</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1"><span class="co"># and all elements of mat that are &gt; 4; note no comma</span></a>
<a class="sourceLine" id="cb140-2" data-line-number="2">mat[mat<span class="op">&gt;</span><span class="dv">4</span>]</a></code></pre></div>
<pre><code>## [1]  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1">## [1]  5  6  7  8  9 10</a></code></pre></div>
<p>Note that in the last case, there is no “,”, so R treats the matrix as a long vector (length=20). This is convenient, sometimes, but it can also be a source of error, as some code may “work” but be doing something unexpected.</p>
<p>In the next example, we create a matrix with 2 columns and 10 rows.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" data-line-number="1">m =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">20</span>),<span class="dt">nrow=</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb143-2" data-line-number="2"><span class="co"># multiply all values in the matrix by 20</span></a>
<a class="sourceLine" id="cb143-3" data-line-number="3">m =<span class="st"> </span>m<span class="op">*</span><span class="dv">20</span></a>
<a class="sourceLine" id="cb143-4" data-line-number="4"><span class="co"># and add 100 to the first column of m</span></a>
<a class="sourceLine" id="cb143-5" data-line-number="5">m[,<span class="dv">1</span>] =<span class="st"> </span>m[,<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb143-6" data-line-number="6"><span class="co"># summarize m</span></a>
<a class="sourceLine" id="cb143-7" data-line-number="7"><span class="kw">summary</span>(m)</a></code></pre></div>
<pre><code>##        V1               V2         
##  Min.   : 76.27   Min.   :-33.163  
##  1st Qu.: 88.57   1st Qu.:-21.927  
##  Median : 99.69   Median :-10.221  
##  Mean   :100.07   Mean   :-12.269  
##  3rd Qu.:114.55   3rd Qu.: -3.537  
##  Max.   :125.36   Max.   :  7.512</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Data Frames</h3>
<div id="matrices-versus-data-frames" class="section level4">
<h4><span class="header-section-number">3.2.2.1</span> Matrices Versus Data Frames</h4>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1">mat&lt;-<span class="kw">cbind</span>(x,y)</a>
<a class="sourceLine" id="cb145-2" data-line-number="2"><span class="kw">head</span>(mat)</a></code></pre></div>
<pre><code>##      x           y
## [1,] 1 -0.91177720
## [2,] 2 -0.02215773
## [3,] 3  0.86126364
## [4,] 4 -0.69371491
## [5,] 5  2.40947221
## [6,] 6 -0.19503122</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1"><span class="kw">class</span>(mat[,<span class="dv">1</span>])          </a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1">z =<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&#39;a&#39;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb149-2" data-line-number="2">tab&lt;-<span class="kw">cbind</span>(x,y,z)</a>
<a class="sourceLine" id="cb149-3" data-line-number="3"><span class="kw">class</span>(tab)</a></code></pre></div>
<pre><code>## [1] &quot;matrix&quot;</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1"><span class="kw">mode</span>(tab[,<span class="dv">1</span>])</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"><span class="kw">head</span>(tab,<span class="dv">4</span>)</a></code></pre></div>
<pre><code>##      x   y                     z   
## [1,] &quot;1&quot; &quot;-0.911777199573281&quot;  &quot;a1&quot;
## [2,] &quot;2&quot; &quot;-0.0221577301065826&quot; &quot;a2&quot;
## [3,] &quot;3&quot; &quot;0.861263640973762&quot;   &quot;a3&quot;
## [4,] &quot;4&quot; &quot;-0.693714914597523&quot;  &quot;a4&quot;</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" data-line-number="1">tab&lt;-<span class="kw">data.frame</span>(x,y,z)</a>
<a class="sourceLine" id="cb155-2" data-line-number="2"><span class="kw">class</span>(tab)</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1"><span class="kw">head</span>(tab)</a></code></pre></div>
<pre><code>##   x           y  z
## 1 1 -0.91177720 a1
## 2 2 -0.02215773 a2
## 3 3  0.86126364 a3
## 4 4 -0.69371491 a4
## 5 5  2.40947221 a5
## 6 6 -0.19503122 a6</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1"><span class="kw">mode</span>(tab[,<span class="dv">1</span>])</a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1"><span class="kw">class</span>(tab[,<span class="dv">3</span>])</a></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1"><span class="kw">rownames</span>(tab)           </a></code></pre></div>
<pre><code>##  [1] &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;4&quot;  &quot;5&quot;  &quot;6&quot;  &quot;7&quot;  &quot;8&quot;  &quot;9&quot;  &quot;10&quot;</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" data-line-number="1"><span class="kw">rownames</span>(tab)&lt;-<span class="kw">paste0</span>(<span class="st">&quot;row&quot;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb165-2" data-line-number="2"><span class="kw">rownames</span>(tab)</a></code></pre></div>
<pre><code>##  [1] &quot;row1&quot;  &quot;row2&quot;  &quot;row3&quot;  &quot;row4&quot;  &quot;row5&quot;  &quot;row6&quot;  &quot;row7&quot;  &quot;row8&quot; 
##  [9] &quot;row9&quot;  &quot;row10&quot;</code></pre>
<p>Data frame columns can be refered to by name using the “dollar sign” operator.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" data-line-number="1"><span class="kw">head</span>(tab)</a></code></pre></div>
<pre><code>##      x           y  z
## row1 1 -0.91177720 a1
## row2 2 -0.02215773 a2
## row3 3  0.86126364 a3
## row4 4 -0.69371491 a4
## row5 5  2.40947221 a5
## row6 6 -0.19503122 a6</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" data-line-number="1">tab<span class="op">$</span>x</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" data-line-number="1">tab<span class="op">$</span>y</a></code></pre></div>
<pre><code>##  [1] -0.91177720 -0.02215773  0.86126364 -0.69371491  2.40947221
##  [6] -0.19503122 -0.24879945 -1.73697194  1.90778018  1.80389756</code></pre>
<p>Column names can be set, which can be useful for referring to data
later.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" data-line-number="1"><span class="kw">colnames</span>(tab)</a></code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" data-line-number="1"><span class="kw">colnames</span>(tab) =<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&#39;col&#39;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a></code></pre></div>
<p>Data frames have functions to report size and even <code>summary</code> functions. Try the following:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" data-line-number="1"><span class="kw">ncol</span>(tab)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" data-line-number="1"><span class="kw">nrow</span>(tab)</a></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" data-line-number="1"><span class="kw">dim</span>(tab)</a></code></pre></div>
<pre><code>## [1] 10  3</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb182-1" data-line-number="1"><span class="kw">summary</span>(tab)</a></code></pre></div>
<pre><code>##       col1            col2              col3  
##  Min.   : 1.00   Min.   :-1.7370   a1     :1  
##  1st Qu.: 3.25   1st Qu.:-0.5825   a10    :1  
##  Median : 5.50   Median :-0.1086   a2     :1  
##  Mean   : 5.50   Mean   : 0.3174   a3     :1  
##  3rd Qu.: 7.75   3rd Qu.: 1.5682   a4     :1  
##  Max.   :10.00   Max.   : 2.4095   a5     :1  
##                                    (Other):4</code></pre>
<p>Extracting parts of a <code>data.frame</code> work as for matrices. Try to think about what each of the following will do before asking R to evaluate the result.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" data-line-number="1">tab[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,]</a></code></pre></div>
<pre><code>##      col1        col2 col3
## row1    1 -0.91177720   a1
## row2    2 -0.02215773   a2
## row3    3  0.86126364   a3</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" data-line-number="1">tab[,<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>##              col2 col3
## row1  -0.91177720   a1
## row2  -0.02215773   a2
## row3   0.86126364   a3
## row4  -0.69371491   a4
## row5   2.40947221   a5
## row6  -0.19503122   a6
## row7  -0.24879945   a7
## row8  -1.73697194   a8
## row9   1.90778018   a9
## row10  1.80389756  a10</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" data-line-number="1">tab[,<span class="dv">1</span>]<span class="op">&gt;</span><span class="dv">7</span></a></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb190-1" data-line-number="1">tab[tab[,<span class="dv">1</span>]<span class="op">&gt;</span><span class="dv">7</span>,]</a></code></pre></div>
<pre><code>##       col1      col2 col3
## row8     8 -1.736972   a8
## row9     9  1.907780   a9
## row10   10  1.803898  a10</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" data-line-number="1">tab[tab[,<span class="dv">1</span>]<span class="op">&gt;</span><span class="dv">7</span>,<span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] a8  a9  a10
## Levels: a1 a10 a2 a3 a4 a5 a6 a7 a8 a9</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" data-line-number="1">tab[tab[,<span class="dv">1</span>]<span class="op">&gt;</span><span class="dv">7</span>,<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>##            col2 col3
## row8  -1.736972   a8
## row9   1.907780   a9
## row10  1.803898  a10</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" data-line-number="1">tab[tab<span class="op">$</span>x<span class="op">&gt;</span><span class="dv">7</span>,<span class="dv">3</span>]</a></code></pre></div>
<pre><code>## factor(0)
## Levels: a1 a10 a2 a3 a4 a5 a6 a7 a8 a9</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" data-line-number="1">tab<span class="op">$</span>z[tab<span class="op">$</span>x<span class="op">&gt;</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## NULL</code></pre>
</div>
</div>
</div>
<div id="lists-and-objects" class="section level2">
<h2><span class="header-section-number">3.3</span> Lists and Objects</h2>
<p>A list is a collection of objects that may be the same or different
types. The objects in a list often have names, and may be indexed either by name
(e.g. <code>my_list$name3</code>) or component number (e.g. <code>my_list[[3]]</code>).
As an aside, a data frame is a list of matched column vectors.</p>
<p>We can reate a list, noting the different data types involved.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1">a =<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>,<span class="st">&quot;b&quot;</span>,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb200-2" data-line-number="2">a</a></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;b&quot;
## 
## [[3]]
## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1"><span class="kw">length</span>(a)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="kw">class</span>(a)</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1">a[[<span class="dv">3</span>]]</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>A data frame <em>is</em> a list.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" data-line-number="1"><span class="co"># test if our friend &quot;tab&quot; is a list</span></a>
<a class="sourceLine" id="cb208-2" data-line-number="2"><span class="kw">is.list</span>(tab)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1">tab[[<span class="dv">2</span>]]</a></code></pre></div>
<pre><code>##  [1] -0.91177720 -0.02215773  0.86126364 -0.69371491  2.40947221
##  [6] -0.19503122 -0.24879945 -1.73697194  1.90778018  1.80389756</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" data-line-number="1"><span class="kw">names</span>(tab)</a></code></pre></div>
<pre><code>## [1] &quot;col1&quot; &quot;col2&quot; &quot;col3&quot;</code></pre>
<p>Table (#tab:datatypes) Summary of basic R data structures.</p>
<table>
<thead>
<tr class="header">
<th>Data type S</th>
<th align="left">tores</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>vector</td>
<td align="left">one-dimensional data, single data type</td>
</tr>
<tr class="even">
<td>matrix</td>
<td align="left">two-dimensional data, single data type</td>
</tr>
<tr class="odd">
<td>data frame</td>
<td align="left">two-dimensional data, multiple data types</td>
</tr>
<tr class="even">
<td>list</td>
<td align="left">list of data types, not all need to be the same type</td>
</tr>
<tr class="odd">
<td>object</td>
<td align="left">a list with attributes and potentially slots and methods</td>
</tr>
</tbody>
</table>
</div>
</div>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-93043521-1', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
            </section>

          </div>
        </div>
      </div>
<a href="first-steps.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/seandavi/ITR/edit/master/%s",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
